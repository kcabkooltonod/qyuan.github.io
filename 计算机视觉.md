# 计算机视觉

## 环境配置

对于本人来说配好了环境就是成功的一半，之前在完成iris数据集分类的时候对虚拟环境这个东西还是懵懵懂懂，以至于这次不再使用pytorch而要用keras和opencv-python后，搭建一个新环境成为了我遇到的第一个大难题。一开始在下载了pytorch的环境中死活下载不了opencv-python，愣是搞了两三天。最后在尝试了换源，更新conda，上官网下载一系列方法后，我发现原来一定要创建一个新的虚拟环境并用pip install 下载，至此掌握了方法，创建再多的虚拟环境都不愁了。

## 修改代码

可怜了我这个废物电脑，每次训练一次测试集都需要100分钟左右（大概2分钟一个epoch），训练完后系统给我报错后面的句子出现了问题，修改过后又得再等一次才知道修改是否成功，前前后后运行了六七次，电脑差点给烧了。咱也不知道注释掉训练的代码后会发生什么，会不会导致结果不一样，万一加上后又出问题就麻烦了，就干脆傻等了。

## 问题回答

我没有运行gui.py但最后发现有个识别窗口出来了，自以为是成功了。

载入数据：先是创建训练集和测试集，我是将它们直接放在了.py文件的同级目录下，直接调文件名载入

trainer：将彩图转为灰图（48，48，1）按每批64个的大小进行训练

构建神经网络：采用keras库构建卷积神经网络 卷积，池化，丢弃（Dropout）对识别无用的数据暂时丢弃，提高鲁棒性

最后是训练展示：

![](CV\Snipaste_2022-10-10_14-11-11.png)

![](CV\Snipaste_2022-10-10_14-11-35.png)

![](CV\Snipaste_2022-10-10_14-11-57.png)

![](CV\Snipaste_2022-10-10_14-12-25.png)